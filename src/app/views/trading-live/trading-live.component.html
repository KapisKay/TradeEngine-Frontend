<div class="container-fluid">
    <div class="text-center">
      <h4 class="title">Market Data</h4>
    </div>
    <br>
    <div class="table-responsive table-row">
    
        <table class="table  table-borderless">
            <thead>
              <tr class ="tableheader">
                <th scope="col">Ticker</th>
                <th scope="col">Last Traded Price</th>
                <th scope="col">Max Price Shift</th>
                <th scope="col">Ask Price</th>
                <th scope="col">Bid Price</th>
                <th scope="col">Buy Limit</th>
                <th scope="col"></th>
              </tr>
            </thead>
            <tbody>
              <tr class="tableData">
                <th class="primary" scope="row">1</th>
                <td>Mark</td>
                <td>Otto</td>
                <td>@mdo</td>
                <th scope="row">1</th>
                <td>Mark</td>
                <td>  <button class="btn btn-secondary buy" data-toggle="modal" data-target="#buyModal" id="add-funds" >Buy</button>  </td>
               
              </tr>
            </tbody>
          </table>

          <!-- Modal form for adding funds -->
          <div class="modal fade" id="buyModal" tabindex="-1" role="dialog" aria-labelledby="buyModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="buyModalLabel">Buy Product</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                  <div class="row m-3">
                    <div class="col-lg-6 col-12">
                      Ticker: {{product?.ticker}}
                    </div>
                    <div class="col-lg-6 col-12">
                      Last traded price: {{product?.last_traded_price}}
                    </div>
                    <div class="col-lg-6 col-12">
                      Bid price: {{product?.bid_price}}
                    </div>
                    <div class="col-lg-6 col-12">
                     Buy Limit: {{product?.buy_limit}}
                    </div>
                  </div>
                  <form [formGroup]="buyForm">
                    <div class="">
                      <div class="m-3">
                        <label class="form-label">Amount:</label>
                        <input formControlName="amount" type="number" class="form-control" id="amountInput" aria-describedby="amountlHelp">
                      <div  
                        *ngIf="buyForm.get('amount')?.touched && buyForm.get('amount')?.hasError('required')" id="amountHelp" class="form-text">Please provide a valid amount</div>
                      </div>
                      <div class="m-3">
                        <label class="form-label">Reference:</label>
                        <input formControlName="reference" type="text" class="form-control" id="referenceInput" aria-describedby="referencelHelp">
                      <div  
                        *ngIf="buyForm.get('reference')?.touched && buyForm.get('reference')?.hasError('required')" id="referenceHelp" class="form-text">Please provide a valid reference</div>
                      </div>
                    </div>
    
                  </form>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                  <button type="button" class="btn btn-primary" (click)="buyProduct(product?.id)" [disabled]="buyForm.invalid">Buy</button>
                </div>
              </div>
            </div>
          </div>

          <!-- / Modal end -->
    </div>
</div>

